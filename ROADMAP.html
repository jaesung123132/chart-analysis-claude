<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì£¼ê°€ ë¶„ì„ í”„ë¡œì íŠ¸ ì‹¬ì¸µ ê³„íš (ISPAS)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; background-color: #f8fafc; color: #1e293b; }
        .chart-container { position: relative; width: 100%; max-width: 800px; margin: 0 auto; height: 350px; }
        .nav-item.active { background-color: #e2e8f0; border-left: 4px solid #3b82f6; color: #1d4ed8; font-weight: 700; }
        .phase-card { transition: all 0.3s ease; cursor: pointer; }
        .phase-card:hover { transform: translateY(-5px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
        .phase-card.active { border: 2px solid #3b82f6; background-color: #eff6ff; }
        /* Custom Scrollbar for better UX */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
    </style>
    <!-- Chosen Palette: Slate & Blue (Professional, Trustworthy, Analytical) -->
    <!-- Application Structure Plan: 
         1. Dashboard Layout: Sidebar navigation for seamless transitions between logical sections.
         2. Executive Summary: High-level KPIs and goals.
         3. Project Roadmap (Interactive): 5-Phase timeline where users click to see deep-dive tasks.
         4. Architecture & Logic: Visual flow of data processing without SVGs (using HTML/CSS boxes).
         5. Simulation (The 'Wow'): Interactive charts allowing users to toggle 'Bull'/'Bear' scenarios to see how the planned logic handles different markets.
         6. Risk Management: Accordion/Table view of potential pitfalls and solutions.
    -->
    <!-- Visualization & Content Choices:
         - Line Chart (Chart.js): To visualize the 'Predicted vs Actual' stock prices in the simulation section.
         - Doughnut Chart (Chart.js): For resource allocation or portfolio weight simulation.
         - Bar Chart (Chart.js): To compare Model Accuracy metrics (RMSE, MAE).
         - HTML Grid/Flex: For the Roadmap and Architecture diagram (No SVG/Mermaid).
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="flex h-screen overflow-hidden">

    <!-- Sidebar Navigation -->
    <aside class="w-64 bg-white border-r border-slate-200 flex-shrink-0 hidden md:flex flex-col z-20">
        <div class="p-6 border-b border-slate-100">
            <h1 class="text-xl font-bold text-slate-800">ISPAS <span class="text-blue-600">Plan</span></h1>
            <p class="text-xs text-slate-500 mt-1">Intelligent Stock Price Analysis System</p>
        </div>
        <nav class="flex-1 overflow-y-auto py-4">
            <ul>
                <li><button onclick="navigate('dashboard')" id="nav-dashboard" class="nav-item w-full text-left px-6 py-3 text-slate-600 hover:bg-slate-50 transition-colors flex items-center gap-3">ğŸ“Š í”„ë¡œì íŠ¸ ê°œìš”</button></li>
                <li><button onclick="navigate('roadmap')" id="nav-roadmap" class="nav-item w-full text-left px-6 py-3 text-slate-600 hover:bg-slate-50 transition-colors flex items-center gap-3">ğŸš€ ì‹¤í–‰ ë¡œë“œë§µ (5ë‹¨ê³„)</button></li>
                <li><button onclick="navigate('architecture')" id="nav-architecture" class="nav-item w-full text-left px-6 py-3 text-slate-600 hover:bg-slate-50 transition-colors flex items-center gap-3">ğŸ—ï¸ ê¸°ìˆ  ì•„í‚¤í…ì²˜</button></li>
                <li><button onclick="navigate('simulation')" id="nav-simulation" class="nav-item w-full text-left px-6 py-3 text-slate-600 hover:bg-slate-50 transition-colors flex items-center gap-3">ğŸ”® ë¶„ì„ ì‹œë®¬ë ˆì´ì…˜</button></li>
                <li><button onclick="navigate('risk')" id="nav-risk" class="nav-item w-full text-left px-6 py-3 text-slate-600 hover:bg-slate-50 transition-colors flex items-center gap-3">ğŸ›¡ï¸ ë¦¬ìŠ¤í¬ ê´€ë¦¬</button></li>
            </ul>
        </nav>
        <div class="p-4 border-t border-slate-100 text-center">
            <span class="text-xs font-semibold text-blue-600 bg-blue-50 px-3 py-1 rounded-full">Status: Planning Complete</span>
        </div>
    </aside>

    <!-- Mobile Header -->
    <div class="md:hidden fixed top-0 w-full bg-white border-b border-slate-200 z-30 p-4 flex justify-between items-center">
        <h1 class="text-lg font-bold text-slate-800">ISPAS Plan</h1>
        <button onclick="toggleMobileMenu()" class="text-slate-600 focus:outline-none">
            â˜°
        </button>
    </div>
    <!-- Mobile Menu Overlay -->
    <div id="mobile-menu" class="fixed inset-0 bg-slate-800 bg-opacity-50 z-40 hidden" onclick="toggleMobileMenu()">
        <div class="absolute right-0 top-0 h-full w-64 bg-white shadow-xl p-4" onclick="event.stopPropagation()">
            <nav class="flex flex-col gap-2 mt-10">
                <button onclick="navigate('dashboard'); toggleMobileMenu()" class="text-left px-4 py-3 border-b">ğŸ“Š í”„ë¡œì íŠ¸ ê°œìš”</button>
                <button onclick="navigate('roadmap'); toggleMobileMenu()" class="text-left px-4 py-3 border-b">ğŸš€ ì‹¤í–‰ ë¡œë“œë§µ</button>
                <button onclick="navigate('architecture'); toggleMobileMenu()" class="text-left px-4 py-3 border-b">ğŸ—ï¸ ê¸°ìˆ  ì•„í‚¤í…ì²˜</button>
                <button onclick="navigate('simulation'); toggleMobileMenu()" class="text-left px-4 py-3 border-b">ğŸ”® ë¶„ì„ ì‹œë®¬ë ˆì´ì…˜</button>
                <button onclick="navigate('risk'); toggleMobileMenu()" class="text-left px-4 py-3 border-b">ğŸ›¡ï¸ ë¦¬ìŠ¤í¬ ê´€ë¦¬</button>
            </nav>
        </div>
    </div>

    <!-- Main Content Area -->
    <main class="flex-1 overflow-y-auto relative pt-16 md:pt-0 bg-slate-50" id="main-content">
        
        <!-- SECTION 1: DASHBOARD (Overview) -->
        <section id="dashboard" class="p-6 md:p-10 max-w-7xl mx-auto space-y-8 animate-fade-in">
            <header>
                <h2 class="text-3xl font-bold text-slate-800">í”„ë¡œì íŠ¸ ê°œìš”</h2>
                <p class="text-slate-600 mt-2 text-lg">ê¸°ì¡´ ê³„íšì˜ í•œê³„ë¥¼ ë„˜ì–´ì„ , ë°ì´í„° ê¸°ë°˜ì˜ ê³ ì •ë°€ ì£¼ê°€ ì˜ˆì¸¡ ì‹œìŠ¤í…œ êµ¬ì¶• ì „ëµì…ë‹ˆë‹¤.</p>
            </header>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- KPI Card 1 -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-slate-500 font-medium">ëª©í‘œ ì˜ˆì¸¡ ì •í™•ë„ (RMSE)</h3>
                        <span class="text-blue-600 bg-blue-50 px-2 py-1 rounded text-xs font-bold">Target</span>
                    </div>
                    <p class="text-3xl font-bold text-slate-800">1.5% <span class="text-sm font-normal text-slate-400">ì´í•˜</span></p>
                    <p class="text-sm text-slate-500 mt-2">LSTM & Transformer í•˜ì´ë¸Œë¦¬ë“œ ëª¨ë¸ ì ìš©</p>
                </div>
                <!-- KPI Card 2 -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-slate-500 font-medium">ë°ì´í„° ì²˜ë¦¬ ì§€ì—°ì‹œê°„</h3>
                        <span class="text-green-600 bg-green-50 px-2 py-1 rounded text-xs font-bold">Real-time</span>
                    </div>
                    <p class="text-3xl font-bold text-slate-800">&lt; 200ms</p>
                    <p class="text-sm text-slate-500 mt-2">Kafka & Redis ìºì‹± íŒŒì´í”„ë¼ì¸ ìµœì í™”</p>
                </div>
                <!-- KPI Card 3 -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-slate-500 font-medium">ë°±í…ŒìŠ¤íŒ… ê¸°ê°„</h3>
                        <span class="text-purple-600 bg-purple-50 px-2 py-1 rounded text-xs font-bold">Robustness</span>
                    </div>
                    <p class="text-3xl font-bold text-slate-800">10ë…„</p>
                    <p class="text-sm text-slate-500 mt-2">2014-2024ë…„ ë°ì´í„° ê¸°ë°˜ ìŠ¤íŠ¸ë ˆìŠ¤ í…ŒìŠ¤íŠ¸</p>
                </div>
            </div>

            <div class="bg-white p-8 rounded-xl shadow-sm border border-slate-200">
                <h3 class="text-xl font-bold text-slate-800 mb-4">ğŸ¯ í•µì‹¬ ë¯¸ì…˜ (Core Mission)</h3>
                <div class="space-y-4">
                    <div class="flex items-start gap-4">
                        <div class="bg-blue-100 p-2 rounded-lg text-blue-600 font-bold">01</div>
                        <div>
                            <h4 class="font-bold text-slate-800">ë°ì´í„° ë¬´ê²°ì„± í™•ë³´</h4>
                            <p class="text-slate-600 text-sm">Alpha Vantageì™€ Yahoo Finance APIì˜ êµì°¨ ê²€ì¦ì„ í†µí•´ ê²°ì¸¡ì¹˜ 0%ì˜ ê³ í’ˆì§ˆ ë°ì´í„°ì…‹(OHLCV) êµ¬ì¶•.</p>
                        </div>
                    </div>
                    <div class="flex items-start gap-4">
                        <div class="bg-indigo-100 p-2 rounded-lg text-indigo-600 font-bold">02</div>
                        <div>
                            <h4 class="font-bold text-slate-800">ê³ ê¸‰ ê¸°ìˆ ì  ì§€í‘œ ìë™í™”</h4>
                            <p class="text-slate-600 text-sm">RSI, MACD, Bollinger Bands ë“± 15ì¢… ì´ìƒì˜ ê¸°ìˆ ì  ì§€í‘œë¥¼ ì‹¤ì‹œê°„ ê³„ì‚°í•˜ëŠ” íŒŒì´í”„ë¼ì¸ êµ¬í˜„.</p>
                        </div>
                    </div>
                    <div class="flex items-start gap-4">
                        <div class="bg-purple-100 p-2 rounded-lg text-purple-600 font-bold">03</div>
                        <div>
                            <h4 class="font-bold text-slate-800">ì„¤ëª… ê°€ëŠ¥í•œ AI (XAI)</h4>
                            <p class="text-slate-600 text-sm">ë‹¨ìˆœ ì˜ˆì¸¡ê°’ì„ ë„˜ì–´, SHAP valueë¥¼ í™œìš©í•˜ì—¬ 'ì™œ' ìƒìŠ¹/í•˜ë½ì„ ì˜ˆì¸¡í–ˆëŠ”ì§€ ê·¼ê±°ë¥¼ ì œì‹œí•˜ëŠ” ëª¨ë¸ ê°œë°œ.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 2: ROADMAP (Interactive) -->
        <section id="roadmap" class="hidden p-6 md:p-10 max-w-7xl mx-auto space-y-8 animate-fade-in">
            <header>
                <h2 class="text-3xl font-bold text-slate-800">ì‹¤í–‰ ë¡œë“œë§µ (12ì£¼ ì™„ì„±)</h2>
                <p class="text-slate-600 mt-2">ê° ë‹¨ê³„ë¥¼ í´ë¦­í•˜ì—¬ ìƒì„¸ ê³¼ì—…ê³¼ ì˜ˆìƒ ì‚°ì¶œë¬¼ì„ í™•ì¸í•˜ì„¸ìš”.</p>
            </header>

            <!-- Phase Selectors -->
            <div class="grid grid-cols-2 md:grid-cols-5 gap-4">
                <div onclick="updateRoadmap(1)" class="phase-card active bg-white p-4 rounded-lg border border-slate-200 text-center" id="phase-btn-1">
                    <div class="text-xs font-bold text-slate-400 uppercase mb-1">Phase 1</div>
                    <div class="font-bold text-slate-800">ê¸°ë°˜ êµ¬ì¶•</div>
                    <div class="text-xs text-slate-500 mt-1">Week 1-2</div>
                </div>
                <div onclick="updateRoadmap(2)" class="phase-card bg-white p-4 rounded-lg border border-slate-200 text-center" id="phase-btn-2">
                    <div class="text-xs font-bold text-slate-400 uppercase mb-1">Phase 2</div>
                    <div class="font-bold text-slate-800">ë°ì´í„° EDA</div>
                    <div class="text-xs text-slate-500 mt-1">Week 3-4</div>
                </div>
                <div onclick="updateRoadmap(3)" class="phase-card bg-white p-4 rounded-lg border border-slate-200 text-center" id="phase-btn-3">
                    <div class="text-xs font-bold text-slate-400 uppercase mb-1">Phase 3</div>
                    <div class="font-bold text-slate-800">ëª¨ë¸ ê°œë°œ</div>
                    <div class="text-xs text-slate-500 mt-1">Week 5-8</div>
                </div>
                <div onclick="updateRoadmap(4)" class="phase-card bg-white p-4 rounded-lg border border-slate-200 text-center" id="phase-btn-4">
                    <div class="text-xs font-bold text-slate-400 uppercase mb-1">Phase 4</div>
                    <div class="font-bold text-slate-800">ë°±í…ŒìŠ¤íŒ…</div>
                    <div class="text-xs text-slate-500 mt-1">Week 9-10</div>
                </div>
                <div onclick="updateRoadmap(5)" class="phase-card bg-white p-4 rounded-lg border border-slate-200 text-center" id="phase-btn-5">
                    <div class="text-xs font-bold text-slate-400 uppercase mb-1">Phase 5</div>
                    <div class="font-bold text-slate-800">ë°°í¬/UI</div>
                    <div class="text-xs text-slate-500 mt-1">Week 11-12</div>
                </div>
            </div>

            <!-- Dynamic Phase Details -->
            <div class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
                <div class="p-8 grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- Left: Description -->
                    <div class="space-y-6">
                        <h3 class="text-2xl font-bold text-blue-700" id="phase-title">Phase 1: ì¸í”„ë¼ êµ¬ì¶• ë° ë°ì´í„° ìˆ˜ì§‘</h3>
                        <p class="text-slate-600 leading-relaxed" id="phase-desc">
                            ì„±ê³µì ì¸ ë¶„ì„ì„ ìœ„í•œ íŠ¼íŠ¼í•œ ê¸°ë°˜ì„ ë‹¤ì§€ëŠ” ë‹¨ê³„ì…ë‹ˆë‹¤. Python í™˜ê²½ ì„¤ì •, Git ì €ì¥ì†Œ ì´ˆê¸°í™”, ê·¸ë¦¬ê³  ê¸ˆìœµ ë°ì´í„° API(Alpha Vantage, Yahoo Finance)ì™€ì˜ ì—°ê²°ì„ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤. PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ë¥¼ êµ¬ì¶•í•˜ì—¬ ì‹œê³„ì—´ ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì €ì¥í•  ìŠ¤í‚¤ë§ˆë¥¼ ì„¤ê³„í•©ë‹ˆë‹¤.
                        </p>
                        <div>
                            <h4 class="font-bold text-slate-800 mb-2">âœ… ì£¼ìš” ì²´í¬ë¦¬ìŠ¤íŠ¸</h4>
                            <ul class="space-y-2 text-sm text-slate-600" id="phase-checklist">
                                <li class="flex items-center gap-2">ğŸ”¹ API í‚¤ ë°œê¸‰ ë° í˜¸ì¶œ ì œí•œ(Rate Limit) í…ŒìŠ¤íŠ¸</li>
                                <li class="flex items-center gap-2">ğŸ”¹ PostgreSQL + TimescaleDB ì„¤ì¹˜ ë° ì„¤ì •</li>
                                <li class="flex items-center gap-2">ğŸ”¹ ì£¼ì‹ ì¢…ëª© ì½”ë“œ(Ticker) ë§ˆìŠ¤í„° í…Œì´ë¸” ìƒì„±</li>
                            </ul>
                        </div>
                    </div>
                    <!-- Right: Deliverables & Tools -->
                    <div class="bg-slate-50 rounded-lg p-6 border border-slate-100">
                        <h4 class="font-bold text-slate-800 mb-4 border-b pb-2">ğŸ›  ì‚¬ìš© ë„êµ¬ ë° ê¸°ìˆ </h4>
                        <div class="flex flex-wrap gap-2 mb-6" id="phase-tools">
                            <span class="px-3 py-1 bg-white border border-slate-200 rounded text-xs font-medium text-slate-600">Python 3.9+</span>
                            <span class="px-3 py-1 bg-white border border-slate-200 rounded text-xs font-medium text-slate-600">Pandas</span>
                            <span class="px-3 py-1 bg-white border border-slate-200 rounded text-xs font-medium text-slate-600">SQLAlchemy</span>
                            <span class="px-3 py-1 bg-white border border-slate-200 rounded text-xs font-medium text-slate-600">Docker</span>
                        </div>
                        <h4 class="font-bold text-slate-800 mb-2">ğŸ“¦ ì‚°ì¶œë¬¼</h4>
                        <ul class="list-disc list-inside text-sm text-slate-600 space-y-1" id="phase-output">
                            <li>í™˜ê²½ ì„¤ì • ë¬¸ì„œ (requirements.txt)</li>
                            <li>ë°ì´í„° ìˆ˜ì§‘ ìŠ¤í¬ë¦½íŠ¸ (etl_pipeline.py)</li>
                            <li>DB ìŠ¤í‚¤ë§ˆ ì •ì˜ì„œ (ERD)</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 3: ARCHITECTURE -->
        <section id="architecture" class="hidden p-6 md:p-10 max-w-7xl mx-auto space-y-8 animate-fade-in">
            <header>
                <h2 class="text-3xl font-bold text-slate-800">ê¸°ìˆ  ì•„í‚¤í…ì²˜</h2>
                <p class="text-slate-600 mt-2">ë°ì´í„° íë¦„ê³¼ ì‹œìŠ¤í…œ êµ¬ì„± ìš”ì†Œë¥¼ ì‹œê°í™”í•œ ë‹¤ì´ì–´ê·¸ë¨ì…ë‹ˆë‹¤.</p>
            </header>

            <!-- Architecture Flow Diagram (CSS Grid/Flex) -->
            <div class="bg-slate-100 p-8 rounded-xl border border-slate-200 overflow-x-auto">
                <div class="min-w-[800px] flex justify-between items-stretch gap-4 relative">
                    <!-- Layer 1: Data Source -->
                    <div class="flex flex-col gap-4 w-1/5">
                        <div class="text-center font-bold text-slate-500 mb-2 text-sm uppercase">Sources</div>
                        <div class="bg-white p-4 rounded shadow border border-slate-200 text-center h-full flex flex-col justify-center gap-2">
                            <div class="font-bold text-slate-700">Stock APIs</div>
                            <div class="text-xs text-slate-500">Alpha Vantage</div>
                            <div class="text-xs text-slate-500">Yahoo Finance</div>
                            <div class="text-xs text-slate-500">News Sentiment</div>
                        </div>
                    </div>
                    
                    <!-- Arrow -->
                    <div class="flex items-center justify-center text-slate-400">âœ</div>

                    <!-- Layer 2: Ingestion & Storage -->
                    <div class="flex flex-col gap-4 w-1/5">
                        <div class="text-center font-bold text-slate-500 mb-2 text-sm uppercase">Ingestion</div>
                        <div class="bg-white p-4 rounded shadow border border-slate-200 text-center h-full flex flex-col justify-center gap-2">
                            <div class="font-bold text-indigo-600">ETL Pipeline</div>
                            <div class="text-xs text-slate-500">Python Scripts</div>
                            <div class="text-xs text-slate-500">Data Cleaning</div>
                            <div class="border-t pt-2 mt-2">
                                <div class="font-bold text-slate-700">Database</div>
                                <div class="text-xs text-slate-500">PostgreSQL</div>
                            </div>
                        </div>
                    </div>

                    <!-- Arrow -->
                    <div class="flex items-center justify-center text-slate-400">âœ</div>

                    <!-- Layer 3: Analysis & Modeling -->
                    <div class="flex flex-col gap-4 w-1/5">
                        <div class="text-center font-bold text-slate-500 mb-2 text-sm uppercase">Core Logic</div>
                        <div class="bg-white p-4 rounded shadow border border-slate-200 text-center h-full flex flex-col justify-center gap-2">
                            <div class="font-bold text-purple-600">ML Models</div>
                            <div class="text-xs text-slate-500 bg-purple-50 rounded px-2">LSTM / GRU</div>
                            <div class="text-xs text-slate-500 bg-purple-50 rounded px-2">XGBoost</div>
                            <div class="text-xs text-slate-500 bg-purple-50 rounded px-2">ARIMA</div>
                        </div>
                    </div>

                    <!-- Arrow -->
                    <div class="flex items-center justify-center text-slate-400">âœ</div>

                    <!-- Layer 4: Presentation -->
                    <div class="flex flex-col gap-4 w-1/5">
                        <div class="text-center font-bold text-slate-500 mb-2 text-sm uppercase">User Interface</div>
                        <div class="bg-white p-4 rounded shadow border border-slate-200 text-center h-full flex flex-col justify-center gap-2">
                            <div class="font-bold text-blue-600">Web App</div>
                            <div class="text-xs text-slate-500">React / Streamlit</div>
                            <div class="text-xs text-slate-500">Interactive Charts</div>
                            <div class="text-xs text-slate-500">Alert System</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6">
                <div class="bg-white p-6 rounded-lg border border-slate-200">
                    <h3 class="font-bold text-slate-800 mb-2">ğŸ“Š ë°ì´í„° íŒŒì´í”„ë¼ì¸ ì „ëµ</h3>
                    <p class="text-sm text-slate-600">
                        ì•ˆì •ì ì¸ ë°ì´í„° ìˆ˜ê¸‰ì„ ìœ„í•´ 2ê°œ ì´ìƒì˜ API ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ <strong>Failover ì‹œìŠ¤í…œ</strong>ì„ êµ¬ì¶•í•©ë‹ˆë‹¤. ìˆ˜ì§‘ëœ Raw ë°ì´í„°ëŠ” ì¦‰ì‹œ DBì— ì ì¬ë˜ë©°, 1ì°¨ ê°€ê³µ(ê²°ì¸¡ì¹˜ ì²˜ë¦¬, ì •ê·œí™”) í›„ 'Processed' í…Œì´ë¸”ë¡œ ì´ë™í•˜ì—¬ ëª¨ë¸ í•™ìŠµ ì†ë„ë¥¼ ìµœì í™”í•©ë‹ˆë‹¤.
                    </p>
                </div>
                <div class="bg-white p-6 rounded-lg border border-slate-200">
                    <h3 class="font-bold text-slate-800 mb-2">ğŸ¤– ëª¨ë¸ë§ ì „ëµ (Ensemble)</h3>
                    <p class="text-sm text-slate-600">
                        ë‹¨ì¼ ëª¨ë¸ì˜ í¸í–¥ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ <strong>í†µê³„ì  ëª¨ë¸(ARIMA)</strong>ê³¼ <strong>ë”¥ëŸ¬ë‹ ëª¨ë¸(LSTM)</strong>ì„ ê²°í•©í•œ ì•™ìƒë¸” ê¸°ë²•ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ë‹¨ê¸° ë³€ë™ì„±ê³¼ ì¥ê¸° ì¶”ì„¸ë¥¼ ë™ì‹œì— í¬ì°©í•˜ì—¬ ì˜ˆì¸¡ ì˜¤ì°¨ë¥¼ ìµœì†Œí™”í•©ë‹ˆë‹¤.
                    </p>
                </div>
            </div>
        </section>

        <!-- SECTION 4: SIMULATION -->
        <section id="simulation" class="hidden p-6 md:p-10 max-w-7xl mx-auto space-y-8 animate-fade-in">
            <header>
                <div class="flex flex-col md:flex-row md:items-center justify-between gap-4">
                    <div>
                        <h2 class="text-3xl font-bold text-slate-800">ë¶„ì„ ì‹œë®¬ë ˆì´ì…˜</h2>
                        <p class="text-slate-600 mt-2">ì™„ì„±ëœ ëª¨ë¸ì´ ì‹¤ì œ ì‹œì¥ì—ì„œ ì–´ë–»ê²Œ ì‘ë™í• ì§€ ì‹œë‚˜ë¦¬ì˜¤ë³„ë¡œ í™•ì¸í•©ë‹ˆë‹¤.</p>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="updateSimulation('bull')" class="px-4 py-2 rounded-lg bg-red-100 text-red-700 font-bold hover:bg-red-200 transition-colors">ğŸ“ˆ ìƒìŠ¹ì¥ (Bull)</button>
                        <button onclick="updateSimulation('bear')" class="px-4 py-2 rounded-lg bg-blue-100 text-blue-700 font-bold hover:bg-blue-200 transition-colors">ğŸ“‰ í•˜ë½ì¥ (Bear)</button>
                        <button onclick="updateSimulation('mixed')" class="px-4 py-2 rounded-lg bg-slate-100 text-slate-700 font-bold hover:bg-slate-200 transition-colors">â†”ï¸ íš¡ë³´ì¥ (Mixed)</button>
                    </div>
                </div>
            </header>

            <!-- Main Chart Area -->
            <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                <h3 class="font-bold text-slate-800 mb-4 flex items-center gap-2">
                    <span id="scenario-label" class="bg-slate-100 text-slate-600 px-2 py-0.5 rounded text-sm">íš¡ë³´ì¥ ì‹œë‚˜ë¦¬ì˜¤</span>
                    ê°€ê²© ì˜ˆì¸¡ ì‹œë®¬ë ˆì´ì…˜ (Actual vs Predicted)
                </h3>
                <div class="chart-container">
                    <canvas id="mainPriceChart"></canvas>
                </div>
                <div class="mt-4 flex gap-6 justify-center text-sm">
                    <div class="flex items-center gap-2">
                        <span class="w-3 h-3 bg-slate-300 rounded-full"></span>
                        <span class="text-slate-600">ì‹¤ì œ ê°€ê²© (Actual)</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="w-3 h-3 bg-blue-500 rounded-full"></span>
                        <span class="text-slate-600 font-bold">ëª¨ë¸ ì˜ˆì¸¡ (Predicted)</span>
                    </div>
                </div>
            </div>

            <!-- Metrics & Secondary Charts -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Accuracy Metrics -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                    <h3 class="font-bold text-slate-800 mb-4">ëª¨ë¸ ì„±ëŠ¥ ì§€í‘œ ë¹„êµ</h3>
                    <div class="chart-container" style="height: 250px;">
                        <canvas id="metricsChart"></canvas>
                    </div>
                    <p class="text-xs text-slate-500 mt-2 text-center">* RMSEê°€ ë‚®ì„ìˆ˜ë¡ ì˜ˆì¸¡ì´ ì •í™•í•¨ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.</p>
                </div>

                <!-- Asset Allocation Logic -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                    <h3 class="font-bold text-slate-800 mb-4">AI ì¶”ì²œ í¬íŠ¸í´ë¦¬ì˜¤ ë¹„ì¤‘</h3>
                    <div class="flex flex-col md:flex-row items-center gap-6">
                        <div class="relative h-48 w-48">
                            <canvas id="allocationChart"></canvas>
                        </div>
                        <div class="space-y-3 flex-1">
                            <div class="flex justify-between text-sm">
                                <span class="text-slate-600">ì•ˆì „ìì‚° (ì±„ê¶Œ/í˜„ê¸ˆ)</span>
                                <span class="font-bold" id="safe-percent">40%</span>
                            </div>
                            <div class="w-full bg-slate-100 rounded-full h-2">
                                <div id="safe-bar" class="bg-slate-400 h-2 rounded-full" style="width: 40%"></div>
                            </div>
                            
                            <div class="flex justify-between text-sm">
                                <span class="text-slate-600">ìœ„í—˜ìì‚° (ì£¼ì‹)</span>
                                <span class="font-bold text-blue-600" id="risk-percent">60%</span>
                            </div>
                            <div class="w-full bg-slate-100 rounded-full h-2">
                                <div id="risk-bar" class="bg-blue-600 h-2 rounded-full" style="width: 60%"></div>
                            </div>
                            
                            <p class="text-xs text-slate-500 mt-4 bg-slate-50 p-2 rounded">
                                ğŸ’¡ í˜„ì¬ ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ AIëŠ” <span id="recommendation-text" class="font-bold">ì¤‘ë¦½ì </span> í¬ì§€ì…˜ì„ ê¶Œì¥í•©ë‹ˆë‹¤.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 5: RISK MANAGEMENT -->
        <section id="risk" class="hidden p-6 md:p-10 max-w-7xl mx-auto space-y-8 animate-fade-in">
            <header>
                <h2 class="text-3xl font-bold text-slate-800">ë¦¬ìŠ¤í¬ ê´€ë¦¬ ì „ëµ</h2>
                <p class="text-slate-600 mt-2">í”„ë¡œì íŠ¸ ì‹¤íŒ¨ í™•ë¥ ì„ 0%ë¡œ ìˆ˜ë ´ì‹œí‚¤ê¸° ìœ„í•œ ì‚¬ì „ ëŒ€ì‘ì±…ì…ë‹ˆë‹¤.</p>
            </header>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Risk Item 1 -->
                <div class="bg-white border-l-4 border-red-500 p-6 rounded-r-xl shadow-sm hover:shadow-md transition-shadow">
                    <div class="flex justify-between items-start">
                        <h3 class="font-bold text-lg text-slate-800">ê³¼ì í•© (Overfitting)</h3>
                        <span class="bg-red-100 text-red-700 text-xs px-2 py-1 rounded font-bold">High Priority</span>
                    </div>
                    <p class="text-slate-600 mt-2 text-sm">
                        ëª¨ë¸ì´ ê³¼ê±° ë°ì´í„° íŒ¨í„´ì„ ë‹¨ìˆœíˆ ì•”ê¸°í•˜ì—¬ ë¯¸ë˜ ì˜ˆì¸¡ë ¥ì´ ë–¨ì–´ì§€ëŠ” í˜„ìƒ.
                    </p>
                    <div class="mt-4 bg-slate-50 p-3 rounded text-sm">
                        <span class="font-bold text-slate-700">âœ… ëŒ€ì‘ì±…:</span>
                        <ul class="list-disc list-inside mt-1 text-slate-600">
                            <li>Walk-forward Cross Validation ì‚¬ìš©</li>
                            <li>Dropout Layer ë° Regularization (L1/L2) ì ìš©</li>
                            <li>Early Stopping êµ¬í˜„</li>
                        </ul>
                    </div>
                </div>

                <!-- Risk Item 2 -->
                <div class="bg-white border-l-4 border-yellow-500 p-6 rounded-r-xl shadow-sm hover:shadow-md transition-shadow">
                    <div class="flex justify-between items-start">
                        <h3 class="font-bold text-lg text-slate-800">ë°ì´í„° í’ˆì§ˆ ì €í•˜</h3>
                        <span class="bg-yellow-100 text-yellow-700 text-xs px-2 py-1 rounded font-bold">Medium Priority</span>
                    </div>
                    <p class="text-slate-600 mt-2 text-sm">
                        API ì¥ì•  í˜¹ì€ ì´ìƒì¹˜(Outlier) ìœ ì…ìœ¼ë¡œ ì¸í•œ ëª¨ë¸ ì„±ëŠ¥ ì™œê³¡.
                    </p>
                    <div class="mt-4 bg-slate-50 p-3 rounded text-sm">
                        <span class="font-bold text-slate-700">âœ… ëŒ€ì‘ì±…:</span>
                        <ul class="list-disc list-inside mt-1 text-slate-600">
                            <li>IQR ë°©ì‹ì˜ ì´ìƒì¹˜ ìë™ íƒì§€ ë° ì œê±°</li>
                            <li>API ì†ŒìŠ¤ ì´ì¤‘í™” (Alpha Vantage + Yahoo)</li>
                            <li>ê²°ì¸¡ì¹˜ ë³´ê°„ë²•(Interpolation) ê³ ë„í™”</li>
                        </ul>
                    </div>
                </div>

                <!-- Risk Item 3 -->
                <div class="bg-white border-l-4 border-blue-500 p-6 rounded-r-xl shadow-sm hover:shadow-md transition-shadow">
                    <div class="flex justify-between items-start">
                        <h3 class="font-bold text-lg text-slate-800">ì‹¤ì‹œê°„ ì²˜ë¦¬ ì§€ì—° (Latency)</h3>
                        <span class="bg-blue-100 text-blue-700 text-xs px-2 py-1 rounded font-bold">Performance</span>
                    </div>
                    <p class="text-slate-600 mt-2 text-sm">
                        ëŒ€ëŸ‰ ë°ì´í„° ì²˜ë¦¬ ì‹œ ì‹œìŠ¤í…œ ì‘ë‹µ ì†ë„ê°€ ëŠë ¤ì ¸ ì‹¤ì‹œê°„ ëŒ€ì‘ ë¶ˆê°€.
                    </p>
                    <div class="mt-4 bg-slate-50 p-3 rounded text-sm">
                        <span class="font-bold text-slate-700">âœ… ëŒ€ì‘ì±…:</span>
                        <ul class="list-disc list-inside mt-1 text-slate-600">
                            <li>Redis ìºì‹± ë ˆì´ì–´ ë„ì…</li>
                            <li>Celeryë¥¼ ì´ìš©í•œ ë¹„ë™ê¸° ì‘ì—… í ì²˜ë¦¬</li>
                            <li>DB ì¸ë±ì‹± ìµœì í™”</li>
                        </ul>
                    </div>
                </div>
                
                 <!-- Risk Item 4 -->
                <div class="bg-white border-l-4 border-purple-500 p-6 rounded-r-xl shadow-sm hover:shadow-md transition-shadow">
                    <div class="flex justify-between items-start">
                        <h3 class="font-bold text-lg text-slate-800">ì‹œì¥ êµ¬ì¡° ë³€í™” (Regime Change)</h3>
                        <span class="bg-purple-100 text-purple-700 text-xs px-2 py-1 rounded font-bold">External</span>
                    </div>
                    <p class="text-slate-600 mt-2 text-sm">
                        ì½”ë¡œë‚˜19ì™€ ê°™ì€ ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥í•œ ì™¸ë¶€ ì¶©ê²©ìœ¼ë¡œ ì¸í•œ ì‹œì¥ ë¡œì§ ë¶•ê´´.
                    </p>
                    <div class="mt-4 bg-slate-50 p-3 rounded text-sm">
                        <span class="font-bold text-slate-700">âœ… ëŒ€ì‘ì±…:</span>
                        <ul class="list-disc list-inside mt-1 text-slate-600">
                            <li>ë³€ë™ì„±(VIX) ì§€ìˆ˜ ì—°ë™ ë™ì  ì„ê³„ê°’ ì„¤ì •</li>
                            <li>ìµœì‹  3ê°œì›” ë°ì´í„° ê°€ì¤‘ì¹˜ ë¶€ì—¬ (Recency bias)</li>
                            <li>ë¹„ìƒ ì •ì§€(Kill Switch) ê¸°ëŠ¥ íƒ‘ì¬</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="p-6 text-center text-slate-400 text-sm">
            &copy; 2024 ISPAS Project Plan. Designed for High-Performance Analysis.
        </footer>
    </main>

    <script>
        // --- State Management ---
        const state = {
            currentSection: 'dashboard',
            currentPhase: 1,
            currentScenario: 'mixed'
        };

        // --- Data Storage (Source Report Content) ---
        const roadmapData = {
            1: {
                title: "Phase 1: ì¸í”„ë¼ êµ¬ì¶• ë° ë°ì´í„° ìˆ˜ì§‘",
                desc: "ì„±ê³µì ì¸ ë¶„ì„ì„ ìœ„í•œ íŠ¼íŠ¼í•œ ê¸°ë°˜ì„ ë‹¤ì§€ëŠ” ë‹¨ê³„ì…ë‹ˆë‹¤. Python í™˜ê²½ ì„¤ì •, Git ì €ì¥ì†Œ ì´ˆê¸°í™”, ê·¸ë¦¬ê³  ê¸ˆìœµ ë°ì´í„° API(Alpha Vantage, Yahoo Finance)ì™€ì˜ ì—°ê²°ì„ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤. PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ë¥¼ êµ¬ì¶•í•˜ì—¬ ì‹œê³„ì—´ ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì €ì¥í•  ìŠ¤í‚¤ë§ˆë¥¼ ì„¤ê³„í•©ë‹ˆë‹¤.",
                checklist: [
                    "API í‚¤ ë°œê¸‰ ë° í˜¸ì¶œ ì œí•œ(Rate Limit) í…ŒìŠ¤íŠ¸",
                    "PostgreSQL + TimescaleDB ì„¤ì¹˜ ë° ì„¤ì •",
                    "ì£¼ì‹ ì¢…ëª© ì½”ë“œ(Ticker) ë§ˆìŠ¤í„° í…Œì´ë¸” ìƒì„±"
                ],
                tools: ["Python 3.9+", "Pandas", "SQLAlchemy", "Docker"],
                outputs: ["í™˜ê²½ ì„¤ì • ë¬¸ì„œ (requirements.txt)", "ë°ì´í„° ìˆ˜ì§‘ ìŠ¤í¬ë¦½íŠ¸ (etl_pipeline.py)", "DB ìŠ¤í‚¤ë§ˆ ì •ì˜ì„œ (ERD)"]
            },
            2: {
                title: "Phase 2: íƒìƒ‰ì  ë°ì´í„° ë¶„ì„ (EDA)",
                desc: "ìˆ˜ì§‘ëœ ë°ì´í„°ì˜ íŠ¹ì„±ì„ íŒŒì•…í•˜ê³  ì „ì²˜ë¦¬ ì „ëµì„ ìˆ˜ë¦½í•©ë‹ˆë‹¤. ì£¼ê°€ ë°ì´í„°ì˜ ë¶„í¬, ê²°ì¸¡ì¹˜ íŒ¨í„´, ì´ìƒì¹˜ë¥¼ ì‹œê°í™”í•˜ì—¬ í™•ì¸í•©ë‹ˆë‹¤. ì´ë™í‰ê· ì„ (SMA, EMA), RSI, MACD ë“± ê¸°ìˆ ì  ì§€í‘œë¥¼ ê³„ì‚°í•˜ì—¬ íŒŒìƒ ë³€ìˆ˜(Feature)ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.",
                checklist: [
                    "OHLCV ë°ì´í„° ë¬´ê²°ì„± ê²€ì¦",
                    "ê¸°ìˆ ì  ì§€í‘œ 15ì¢… êµ¬í˜„ ë° ê²€ì¦",
                    "ë°ì´í„° ì •ê·œí™” (Min-Max Scaler) ì ìš© í…ŒìŠ¤íŠ¸"
                ],
                tools: ["Jupyter Notebook", "Matplotlib", "Seaborn", "TA-Lib"],
                outputs: ["EDA ë¶„ì„ ë¦¬í¬íŠ¸ (.ipynb)", "ì „ì²˜ë¦¬ ëª¨ë“ˆ (preprocessor.py)", "Feature Engineering ëª…ì„¸ì„œ"]
            },
            3: {
                title: "Phase 3: ì˜ˆì¸¡ ëª¨ë¸ ê°œë°œ ë° í•™ìŠµ",
                desc: "í•µì‹¬ ì•Œê³ ë¦¬ì¦˜ì„ êµ¬í˜„í•˜ëŠ” ë‹¨ê³„ì…ë‹ˆë‹¤. ì‹œê³„ì—´ íŠ¹í™” ëª¨ë¸ì¸ ARIMAì™€ ë”¥ëŸ¬ë‹ ëª¨ë¸ì¸ LSTM/GRUë¥¼ ê°ê° ê°œë°œí•˜ê³ , ì´ë¥¼ ê²°í•©í•˜ê±°ë‚˜ ë¹„êµí•©ë‹ˆë‹¤. í•˜ì´í¼íŒŒë¼ë¯¸í„° íŠœë‹(Grid Search)ì„ í†µí•´ ëª¨ë¸ì˜ ì„±ëŠ¥ì„ ìµœì í™”í•©ë‹ˆë‹¤.",
                checklist: [
                    "ARIMA í†µê³„ ëª¨ë¸ êµ¬í˜„",
                    "LSTM/GRU ë”¥ëŸ¬ë‹ ë„¤íŠ¸ì›Œí¬ ì„¤ê³„",
                    "XGBoost íšŒê·€ ëª¨ë¸ í•™ìŠµ",
                    "í•˜ì´í¼íŒŒë¼ë¯¸í„° íŠœë‹ ìˆ˜í–‰"
                ],
                tools: ["PyTorch / TensorFlow", "Scikit-learn", "XGBoost", "Optuna"],
                outputs: ["ëª¨ë¸ í•™ìŠµ ê°€ì¤‘ì¹˜ íŒŒì¼ (.pt / .h5)", "ëª¨ë¸ ì„±ëŠ¥ ë¹„êµ ë³´ê³ ì„œ", "Inference íŒŒì´í”„ë¼ì¸ ì½”ë“œ"]
            },
            4: {
                title: "Phase 4: ë°±í…ŒìŠ¤íŒ… ë° ê²€ì¦",
                desc: "ê³¼ê±° ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë¸ì˜ ìˆ˜ìµë¥ ì„ ì‹œë®¬ë ˆì´ì…˜í•©ë‹ˆë‹¤. ë‹¨ìˆœíˆ ì •í™•ë„ë§Œ ë³´ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, Sharpe Ratio, MDD(Maximum Drawdown) ë“± ì‹¤ì§ˆì ì¸ íˆ¬ì ì§€í‘œë¥¼ í†µí•´ ëª¨ë¸ì˜ ì•ˆì •ì„±ì„ í‰ê°€í•©ë‹ˆë‹¤.",
                checklist: [
                    "ë°±í…ŒìŠ¤íŒ… ì—”ì§„ êµ¬í˜„ (ìˆ˜ìˆ˜ë£Œ, ìŠ¬ë¦¬í”¼ì§€ ê³ ë ¤)",
                    "ê¸°ê°„ë³„ ìˆ˜ìµë¥  ì‹œë®¬ë ˆì´ì…˜ (2018-2023)",
                    "ë¦¬ìŠ¤í¬ ì§€í‘œ(MDD, Sharpe) ì‚°ì¶œ"
                ],
                tools: ["Backtrader", "Zipline", "PyFolio"],
                outputs: ["ë°±í…ŒìŠ¤íŒ… ê²°ê³¼ ë¦¬í¬íŠ¸", "ë§¤ë§¤ ë¡œê·¸ (Trade Log)", "íˆ¬ì ì „ëµ ìˆ˜ì •ì•ˆ"]
            },
            5: {
                title: "Phase 5: ëŒ€ì‹œë³´ë“œ êµ¬ì¶• ë° ë°°í¬",
                desc: "ë¶„ì„ ê²°ê³¼ë¥¼ ì‚¬ìš©ìê°€ ì‰½ê²Œ ë³¼ ìˆ˜ ìˆë„ë¡ ì›¹ ëŒ€ì‹œë³´ë“œë¥¼ êµ¬ì¶•í•©ë‹ˆë‹¤. ëª¨ë¸ì˜ ì˜ˆì¸¡ ê²°ê³¼ì™€ ë§¤ìˆ˜/ë§¤ë„ ì‹œê·¸ë„ì„ ì‹œê°í™”í•˜ê³ , ì‹¤ì‹œê°„ìœ¼ë¡œ ë°ì´í„°ê°€ ì—…ë°ì´íŠ¸ë˜ë„ë¡ ìŠ¤ì¼€ì¤„ëŸ¬ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.",
                checklist: [
                    "FastAPI ë°±ì—”ë“œ API ê°œë°œ",
                    "Streamlit ë˜ëŠ” React í”„ë¡ íŠ¸ì—”ë“œ ì—°ë™",
                    "AWS/GCP í´ë¼ìš°ë“œ ë°°í¬ ë° ìë™í™”"
                ],
                tools: ["FastAPI", "Streamlit/React", "Docker", "AWS EC2"],
                outputs: ["ìµœì¢… ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ URL", "API ëª…ì„¸ì„œ (Swagger)", "ì‚¬ìš©ì ë§¤ë‰´ì–¼"]
            }
        };

        const simulationData = {
            mixed: {
                labels: ['D-10', 'D-9', 'D-8', 'D-7', 'D-6', 'D-5', 'D-4', 'D-3', 'D-2', 'D-1', 'Today', 'D+1', 'D+2', 'D+3'],
                actual: [100, 102, 101, 103, 102, 104, 103, 105, 104, 106, 105, null, null, null],
                predicted: [101, 102, 102, 103, 103, 104, 104, 105, 105, 105, 106, 106, 105, 106],
                allocation: [40, 60], // Safe, Risk
                recommendation: "ê´€ë§ (Hold)",
                label: "íš¡ë³´ì¥ (Mixed)"
            },
            bull: {
                labels: ['D-10', 'D-9', 'D-8', 'D-7', 'D-6', 'D-5', 'D-4', 'D-3', 'D-2', 'D-1', 'Today', 'D+1', 'D+2', 'D+3'],
                actual: [100, 101, 103, 105, 107, 108, 110, 112, 115, 117, 120, null, null, null],
                predicted: [100, 102, 104, 106, 107, 109, 111, 113, 115, 118, 120, 122, 125, 128],
                allocation: [20, 80],
                recommendation: "ì ê·¹ ë§¤ìˆ˜ (Strong Buy)",
                label: "ìƒìŠ¹ì¥ (Bull)"
            },
            bear: {
                labels: ['D-10', 'D-9', 'D-8', 'D-7', 'D-6', 'D-5', 'D-4', 'D-3', 'D-2', 'D-1', 'Today', 'D+1', 'D+2', 'D+3'],
                actual: [120, 118, 115, 113, 110, 108, 105, 103, 100, 98, 95, null, null, null],
                predicted: [119, 117, 115, 112, 110, 107, 105, 102, 100, 97, 95, 93, 90, 88],
                allocation: [70, 30],
                recommendation: "ë¹„ì¤‘ ì¶•ì†Œ (Reduce)",
                label: "í•˜ë½ì¥ (Bear)"
            }
        };

        // --- Chart Variables ---
        let mainPriceChart = null;
        let metricsChart = null;
        let allocationChart = null;

        // --- Navigation Logic ---
        function navigate(sectionId) {
            // Update State
            state.currentSection = sectionId;

            // Update UI: Hide all sections, Show target
            document.querySelectorAll('main > section').forEach(sec => {
                sec.classList.add('hidden');
            });
            document.getElementById(sectionId).classList.remove('hidden');

            // Update Sidebar Active State
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            const activeNav = document.getElementById(`nav-${sectionId}`);
            if(activeNav) activeNav.classList.add('active');

            // Trigger Specific Inits
            if (sectionId === 'simulation') {
                initSimulationCharts();
            }
            
            // Mobile Menu Close logic
            const mobileMenu = document.getElementById('mobile-menu');
            if (!mobileMenu.classList.contains('hidden')) {
                toggleMobileMenu();
            }
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        }

        // --- Roadmap Logic ---
        function updateRoadmap(phaseId) {
            state.currentPhase = phaseId;
            const data = roadmapData[phaseId];

            // Update Phase Buttons Styles
            for (let i = 1; i <= 5; i++) {
                const btn = document.getElementById(`phase-btn-${i}`);
                if (i === phaseId) {
                    btn.classList.add('active', 'border-blue-500', 'bg-blue-50');
                    btn.classList.remove('border-slate-200');
                } else {
                    btn.classList.remove('active', 'border-blue-500', 'bg-blue-50');
                    btn.classList.add('border-slate-200');
                }
            }

            // Update Content with Animation
            const titleEl = document.getElementById('phase-title');
            const descEl = document.getElementById('phase-desc');
            const checklistEl = document.getElementById('phase-checklist');
            const toolsEl = document.getElementById('phase-tools');
            const outputEl = document.getElementById('phase-output');

            // Simple Fade Effect
            titleEl.style.opacity = 0;
            descEl.style.opacity = 0;
            
            setTimeout(() => {
                titleEl.textContent = data.title;
                descEl.textContent = data.desc;
                
                // Checklist
                checklistEl.innerHTML = data.checklist.map(item => 
                    `<li class="flex items-center gap-2"><span class="text-blue-500">ğŸ”¹</span>${item}</li>`
                ).join('');

                // Tools
                toolsEl.innerHTML = data.tools.map(tool => 
                    `<span class="px-3 py-1 bg-white border border-slate-200 rounded text-xs font-medium text-slate-600 shadow-sm">${tool}</span>`
                ).join('');

                // Outputs
                outputEl.innerHTML = data.outputs.map(out => 
                    `<li>${out}</li>`
                ).join('');

                titleEl.style.opacity = 1;
                descEl.style.opacity = 1;
            }, 200);
        }

        // --- Simulation Logic ---
        function initSimulationCharts() {
            if (mainPriceChart) return; // Already initialized

            // 1. Main Price Chart (Line)
            const ctx1 = document.getElementById('mainPriceChart').getContext('2d');
            mainPriceChart = new Chart(ctx1, {
                type: 'line',
                data: {
                    labels: simulationData.mixed.labels,
                    datasets: [
                        {
                            label: 'Actual Price',
                            data: simulationData.mixed.actual,
                            borderColor: '#cbd5e1', // Slate 300
                            backgroundColor: '#cbd5e1',
                            borderWidth: 2,
                            pointRadius: 4,
                            pointHoverRadius: 6,
                            tension: 0.3,
                            fill: false
                        },
                        {
                            label: 'Predicted Price',
                            data: simulationData.mixed.predicted,
                            borderColor: '#3b82f6', // Blue 500
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            borderWidth: 3,
                            borderDash: [5, 5],
                            pointRadius: 4,
                            pointHoverRadius: 6,
                            tension: 0.3,
                            fill: true
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            mode: 'index',
                            intersect: false,
                            backgroundColor: 'rgba(255, 255, 255, 0.9)',
                            titleColor: '#1e293b',
                            bodyColor: '#475569',
                            borderColor: '#e2e8f0',
                            borderWidth: 1
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            grid: { borderDash: [2, 2], color: '#f1f5f9' }
                        },
                        x: {
                            grid: { display: false }
                        }
                    }
                }
            });

            // 2. Metrics Chart (Bar)
            const ctx2 = document.getElementById('metricsChart').getContext('2d');
            metricsChart = new Chart(ctx2, {
                type: 'bar',
                data: {
                    labels: ['LSTM (Deep Learning)', 'ARIMA (Statistical)', 'XGBoost (ML)'],
                    datasets: [{
                        label: 'RMSE (ì˜¤ì°¨ìœ¨)',
                        data: [1.2, 2.5, 1.8],
                        backgroundColor: ['#3b82f6', '#94a3b8', '#64748b'],
                        borderRadius: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        y: { beginAtZero: true, grid: { display: false } },
                        x: { grid: { display: false } }
                    }
                }
            });

            // 3. Allocation Chart (Doughnut)
            const ctx3 = document.getElementById('allocationChart').getContext('2d');
            allocationChart = new Chart(ctx3, {
                type: 'doughnut',
                data: {
                    labels: ['ì•ˆì „ìì‚°', 'ìœ„í—˜ìì‚°(ì£¼ì‹)'],
                    datasets: [{
                        data: simulationData.mixed.allocation,
                        backgroundColor: ['#e2e8f0', '#3b82f6'],
                        borderWidth: 0,
                        hoverOffset: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '70%',
                    plugins: { legend: { display: false } }
                }
            });
        }

        function updateSimulation(scenario) {
            state.currentScenario = scenario;
            const data = simulationData[scenario];

            // Update Text UI
            document.getElementById('scenario-label').textContent = data.label;
            document.getElementById('recommendation-text').textContent = data.recommendation;
            
            // Color Coding for Recommendation
            const recText = document.getElementById('recommendation-text');
            recText.className = "font-bold " + (scenario === 'bull' ? "text-red-600" : scenario === 'bear' ? "text-blue-600" : "text-slate-700");

            // Update Allocation Bars
            document.getElementById('safe-percent').textContent = data.allocation[0] + '%';
            document.getElementById('risk-percent').textContent = data.allocation[1] + '%';
            document.getElementById('safe-bar').style.width = data.allocation[0] + '%';
            document.getElementById('risk-bar').style.width = data.allocation[1] + '%';

            // Update Charts
            if (mainPriceChart) {
                mainPriceChart.data.datasets[0].data = data.actual;
                mainPriceChart.data.datasets[1].data = data.predicted;
                mainPriceChart.update();
            }
            if (allocationChart) {
                allocationChart.data.datasets[0].data = data.allocation;
                allocationChart.update();
            }
        }

        // Initialize Navigation on Load
        window.addEventListener('DOMContentLoaded', () => {
            // Check current section from state (default dashboard)
            navigate(state.currentSection);
            
            // Pre-load roadmap default
            updateRoadmap(1);
        });

    </script>
</body>
</html>